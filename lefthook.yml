pre-commit:
  parallel: true
  commands:
    biome-check:
      glob: "*.{js,jsx,ts,tsx,json,css,scss,html}"
      run: biome check {{files}}
    cargo-sort:
      files: "git diff --name-only --cached -- '**/Cargo.toml'"
      run: cargo sort --check
    cargo-fmt:
      files: "git diff --name-only --cached -- '*.rs'"
      run: cargo fmt -- --check
    typos:
      run: typos

pre-push:
  parallel: true
  commands:
    cargo-clippy:
      run: cargo clippy --bins --tests --examples --all -- -D rust_2018_idioms -D warnings
    cargo-test:
      run: cargo test --workspace
